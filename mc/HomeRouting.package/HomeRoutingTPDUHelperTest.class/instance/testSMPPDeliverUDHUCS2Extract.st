as yet unclassified
testSMPPDeliverUDHUCS2Extract
	| smpp extracted  res decodedSMS |
	smpp := SMPPMessage readFrom: #[0 0 0 196 0 0 0 5 0 0 0 0 2 125 0 0 0 1 1 51 53 52 51 56 53 49 48 48 49 55 48 0 1 1 52 54 55 48 50 57 57 53 52 48 52 0 64 0 1 0 0 0 0 8 0 140 5 0 3 19 2 1 0 39 150 63 87 250 145 204 101 175 103 44 103 101 92 49 102 47 85 74 84 64 94 114 86 27 84 64 79 96 139 244 98 17 102 47 78 13 102 47 98 17 78 95 137 129 119 97 84 39 79 96 78 236 79 233 91 87 101 112 99 110 126 191 78 134 85 74 84 200 84 200 89 39 123 17 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200] readStream.

	extracted := smpp body toDeliverTPDUDictionary.
	self assert: (extracted at: 'TP-UDHI').
	self assert: (extracted at: 'TP-UDH') equals: #[0 3 19 2 1].
	self assert: (extracted at: 'TP-DCS') equals: 8.
	self assert: (extracted at: 'TP-UD-Len') equals: 140.
	self assert: (extracted at: 'TP-UD') equals: #[0 39 150 63 87 250 145 204 101 175 103 44 103 101 92 49 102 47 85 74 84 64 94 114 86 27 84 64 79 96 139 244 98 17 102 47 78 13 102 47 98 17 78 95 137 129 119 97 84 39 79 96 78 236 79 233 91 87 101 112 99 110 126 191 78 134 85 74 84 200 84 200 89 39 123 17 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200].

	res := HomeRoutingTPDUHelper encodeDeliver: extracted.

	decodedSMS := HomeRoutingTPDUHelper extract: res.
	self assert: (decodedSMS at: 'TP-UD') equals: #[0 39 150 63 87 250 145 204 101 175 103 44 103 101 92 49 102 47 85 74 84 64 94 114 86 27 84 64 79 96 139 244 98 17 102 47 78 13 102 47 98 17 78 95 137 129 119 97 84 39 79 96 78 236 79 233 91 87 101 112 99 110 126 191 78 134 85 74 84 200 84 200 89 39 123 17 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200 84 200].